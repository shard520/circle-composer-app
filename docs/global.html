<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="controlActiveCells"><span class="type-signature"></span>controlActiveCells<span class="signature">(e)</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function used to toggle the active state of a cell when clicked.
The function first toggles the boolean value in the cellsArray using the dataset cellNum property of the event target as the index position.
Then the updateActiveDisplay method is called on the circlesView using the cellsArray as the argument. Finally, if the context has been created,
and the current cell is active then a confirmation sound is played with the rhythmAudio object.
See <a href="module-CirclesView-CirclesView.html#addHandlerToggleOnOff"><code>addHandlerToggleOnOff method in CirclesView class.</code></a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>e</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>the event that called the handler.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlCircleDisplay"><span class="type-signature"></span>controlCircleDisplay<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which first checks if the current window width is equal to the viewportWidth property stored in the state.
If the values do not match, the updateDimensions method is called. The render method is then called on the circlesView.
See <a href="module-CirclesView-CirclesView.html#addHandlerRender"><code>addHandlerRender method in CirclesView class.</code></a></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line21">line 21</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlControlBtnClick"><span class="type-signature"></span>controlControlBtnClick<span class="signature">(e)</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which increments or decrements the value of the control
depending on which button was clicked, then updates the control display.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>e</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>the event which called the handler</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line274">line 274</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlControlValueChange"><span class="type-signature"></span>controlControlValueChange<span class="signature">(e)</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which updates the state with the value of the control which
has been changed, then updates the display with the new value.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>e</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>the event which called the handler</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line246">line 246</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlCreateControls"><span class="type-signature"></span>controlCreateControls<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>This creates all controls as instances of the <a href="module-Control.html"><code>Control class</code></a>,
then passes an array of the controls to the render method on the <a href="module-ControlsBox-ControlsBox.html#render"><code>controlsBoxView</code></a></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line205">line 205</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlCreateCtx"><span class="type-signature"></span>controlCreateCtx<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which first creates the audio context after the required user interaction (clicking the playStopBtn),
then removes the handler and replaces it with one which controls the sequence starting/stopping,
finally the function calls <a href="global.html#controlInitDisplay"><code>controlInitDisplay</code></a> to initialise the display.
See <a href="module-PlayStopView-PlayStopView.html#addHandlerCreateCtx"><code>addHandlerCreateCtx</code></a>
and <a href="module-PlayStopView-PlayStopView.html#removeHandlerCreateCtx"><code>removeHandlerCreateCtx</code></a>
methods in the PlayStopView class.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line84">line 84</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlInitDisplay"><span class="type-signature"></span>controlInitDisplay<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>This function is called when <a href="global.html#controlCreateCtx"><code>controlCreateCtx</code></a> is executed, and
initialises the display by triggering the animations on the circles and play/stop
button, and removing the hidden style for the shift buttons and the controls.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line318">line 318</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlScheduleSequence"><span class="type-signature"></span>controlScheduleSequence<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>This function schedules the next note to be played by setting an interval timer which calls this function
with the interval time set by the config variable <a href="module-config.html#.SCHEDULER_INTERVAL"><code>SCHEDULER_INTERVAL</code></a>. When the function is called,
a while loop is used which executes while the nextNoteTime is less than the current time + a lookahead time
set by the config variable <a href="module-config.html#.SCHEDULER_LOOKAHEAD"><code>SCHEDULER_LOOKAHEAD</code></a>. When the code in the while block executes, the next note
is cued by passing the nextNoteTime to the <a href="global.html#controlSequence"><code>controlSequence</code></a> function, then the display is updated with the current
note style before the nextNoteTime is updated by calling <a href="global.html#controlSetNextNote"><code>controlSetNextNote</code></a>. Before each timer is set,
the previous timer is cleared. Due to the the interval timer calling itself regularly to schedule future notes,
the timing of the application is much more robust because of the overlap which accomodates for the timer call
being blocked on the main thread. This is adapted from <a href="https://www.html5rocks.com/en/tutorials/audio/scheduling/">this article</a>
which contains a more detailed explanation.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line172">line 172</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlSequence"><span class="type-signature"></span>controlSequence<span class="signature">(time)</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>This function takes the scheduled time for the next note, then checks if the current note is a pulse beat,
and calls the play method on either the accented or regular pulse sounds, as well as the rhythm sound if the current note is active.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>the time in relation to the audio context time that the next note should be played.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlSetNextNote"><span class="type-signature"></span>controlSetNextNote<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Sets the next note time according to the current time signature and beat subdivision, then
advances the sequence to the next note. If the sequence has completed then the current note is reset to 0.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line144">line 144</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlShiftBackward"><span class="type-signature"></span>controlShiftBackward<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which calls the shiftBackward function in the model,
then updates the active display in the CirclesView with the new values.
See <a href="module-ShiftView-ShiftView.html#addHandlerShiftBackward"><code>addHandlerShiftBackward method in ShiftView class.</code></a></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlShiftForward"><span class="type-signature"></span>controlShiftForward<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which calls the shiftForward function in the model,
then updates the active display in the CirclesView with the new values.
See <a href="module-ShiftView-ShiftView.html#addHandlerShiftForward"><code>addHandlerShiftForward method in ShiftView class.</code></a></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlStartStop"><span class="type-signature"></span>controlStartStop<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>Handler function which checks if the sequence is currently playing or not. If it's playing,
then set the button text from 'Stop' to 'Play' and call <a href="global.html#controlStopSequence"><code>controlStopSequence</code></a>.
If the sequence isn't playing, set the button text from 'Play' to 'Stop',
then set the next note time in the state to the current time on the audio context, then call <a href="global.html#controlScheduleSequence"><code>controlScheduleSequence</code></a>.
See <a href="module-PlayStopView-PlayStopView.html#addHandlerStartStop"><code>addHandlerStartStop</code></a>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="controlStopSequence"><span class="type-signature"></span>controlStopSequence<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>When the sequence is stopped, the <a href="module-CirclesView-CirclesView.html#updateCurrentDisplay"><code>updateCurrentDisplay</code></a>
is called setting the isPlaying parameter to false, which will remove the current note style without adding it to the
next cell. Then the timer is cleared and the current note is reset to 0.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line193">line 193</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"> &rarr; {Void}</span></h4>
    

    



<div class="description">
    <p>The entry point into the program, this adds handlers using the publisher/subscriber pattern
which allow the views to interact with the model, as well as creating the control objects,</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line330">line 330</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Void</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="module:getCoords"><span class="type-signature"></span>module:getCoords<span class="signature">(numOfBeats, boxSize)</span><span class="type-signature"> &rarr; {Array}</span></h4>
    

    



<div class="description">
    <p>Function to calculate the x/y coordinates of points around a circle, points are calculated from the center
of an element so any rendered elements will need a width and height offset to appear centered.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>numOfBeats</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>number of beats in a bar - this determines how many coordinates are returned</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>boxSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>size in pixels of the container the coordinates will plot to</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="model_getCoords.js.html">model/getCoords.js</a>, <a href="model_getCoords.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of arrays containing all the x/y coordinates, outer array length is determined by numOfBeats</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AudioObj.html">AudioObj</a></li><li><a href="module-CirclesView.html">CirclesView</a></li><li><a href="module-config.html">config</a></li><li><a href="module-Control.html">Control</a></li><li><a href="module-ControlsBox.html">ControlsBox</a></li><li><a href="module-getCoords.html">getCoords</a></li><li><a href="module-model.html">model</a></li><li><a href="module-PlayStopView.html">PlayStopView</a></li><li><a href="module-ShiftView.html">ShiftView</a></li><li><a href="module-State.html">State</a></li></ul><h3>Classes</h3><ul><li><a href="module-AudioObj.html">AudioObj</a></li><li><a href="module-CirclesView-CirclesView.html">CirclesView</a></li><li><a href="module-Control.html">Control</a></li><li><a href="module-ControlsBox-ControlsBox.html">ControlsBox</a></li><li><a href="module-PlayStopView-PlayStopView.html">PlayStopView</a></li><li><a href="module-ShiftView-ShiftView.html">ShiftView</a></li><li><a href="module-State.html">State</a></li></ul><h3>Global</h3><ul><li><a href="global.html#controlActiveCells">controlActiveCells</a></li><li><a href="global.html#controlCircleDisplay">controlCircleDisplay</a></li><li><a href="global.html#controlControlBtnClick">controlControlBtnClick</a></li><li><a href="global.html#controlControlValueChange">controlControlValueChange</a></li><li><a href="global.html#controlCreateControls">controlCreateControls</a></li><li><a href="global.html#controlCreateCtx">controlCreateCtx</a></li><li><a href="global.html#controlInitDisplay">controlInitDisplay</a></li><li><a href="global.html#controlScheduleSequence">controlScheduleSequence</a></li><li><a href="global.html#controlSequence">controlSequence</a></li><li><a href="global.html#controlSetNextNote">controlSetNextNote</a></li><li><a href="global.html#controlShiftBackward">controlShiftBackward</a></li><li><a href="global.html#controlShiftForward">controlShiftForward</a></li><li><a href="global.html#controlStartStop">controlStartStop</a></li><li><a href="global.html#controlStopSequence">controlStopSequence</a></li><li><a href="global.html#init">init</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Oct 21 2021 11:26:43 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>